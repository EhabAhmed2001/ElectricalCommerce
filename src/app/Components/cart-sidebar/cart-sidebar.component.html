<div class="cart-backdrop" *ngIf="isOpen" (click)="close()"></div>

<div class="cart-sidebar" [class.open]="isOpen">
  <div class="cart-header d-flex justify-content-between align-items-center">
    <h5 class="fw-bold m-0">YOUR CART</h5>
    <button class="btn-close" (click)="close()" aria-label="Close"></button>
  </div>

  <div class="cart-body">
    <div class="cart-items-list">
      @for (item of this.cart.cartItems(); track $index) {
        <div class="cart-item d-flex align-items-center">
          <img [src]="item.pictureUrl" alt="{{ item.productName }}" class="item-img" />
          <div class="item-info">
            <h6 class="item-title">{{ item.productName | truncate:15 }}</h6>
            <small>{{ item.quantity }} Ã— {{ item.price }} <span class="fw-bold ms-1">L.E</span></small>
          </div>
        </div>
      }
    </div>

    <div class="cart-footer">
      <hr />
      <div class="fw-semibold mb-3">Total: {{ this.total() }} L.E</div>
      <div class="d-flex gap-2">
        <a (click)="close()" routerLink="cart" class="btn btn-dark w-50 rounded-pill">View Cart</a>
        <a (click)="close()" routerLink="checkout" class="btn btn-primary w-50 rounded-pill">Check Out</a>
      </div>
    </div>
  </div>
</div>
